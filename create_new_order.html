<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Create New Order</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="bg-light">

  <div class="container py-5">
    <h2 class="mb-4">Create New Order</h2>
    <form id="orderForm">
      
      <!-- Customer Name -->
      <div class="mb-3">
        <label for="customerName" class="form-label">Customer Name</label>
        <input type="text" class="form-control" id="customerName" required>
      </div>

      <!-- Email -->
      <div class="mb-3">
        <label for="email" class="form-label">Email (optional)</label>
        <input type="email" class="form-control" id="email">
      </div>

      <!-- Quantity -->
      <div class="mb-3">
        <label for="quantity" class="form-label">Number of Pages</label>
        <input type="number" class="form-control" id="quantity" min="1" required>
      </div>

      <!-- Paper Type -->
      <div class="mb-3">
        <label for="paperType" class="form-label">Paper Type</label>
        <select class="form-select" id="paperType">
          <option value="Plain">Plain</option>
          <option value="Glossy">Glossy (+RM 0.10)</option>
          <option value="Card">Card (+RM 0.15)</option>
        </select>
      </div>

      <!-- Paper Size -->
      <div class="mb-3">
        <label for="paperSize" class="form-label">Paper Size</label>
        <select class="form-select" id="paperSize">
          <option value="A4">A4</option>
          <option value="A3">A3 (+RM 0.10)</option>
        </select>
      </div>

      <!-- Color Option -->
      <div class="mb-3">
        <label class="form-label">Print Color</label><br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="color" value="BlackWhite" checked>
          <label class="form-check-label">Black & White</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="color" value="Color">
          <label class="form-check-label">Color (+RM 0.30)</label>
        </div>
      </div>

      <!-- Print Side -->
      <div class="mb-3">
        <label class="form-label">Print Side</label><br>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="side" value="Single-sided" checked>
          <label class="form-check-label">Single-sided</label>
        </div>
        <div class="form-check form-check-inline">
          <input class="form-check-input" type="radio" name="side" value="Double-sided">
          <label class="form-check-label">Double-sided</label>
        </div>
      </div>

      <!-- Binding -->
      <div class="mb-3">
        <label for="binding" class="form-label">Binding Option</label>
        <select class="form-select" id="binding">
          <option value="None">None</option>
          <option value="Stapled">Stapled (+RM 1.00)</option>
          <option value="Ring-bound">Ring-bound (+RM 3.00)</option>
        </select>
      </div>

      <!-- Fee Estimate -->
      <div class="mb-3">
        <label class="form-label">Estimated Cost</label>
        <div id="feeResult" class="form-control bg-light">RM 0.00</div>
      </div>

      <!-- Submit Button -->
      <button type="submit" class="btn btn-primary">Submit Order</button>
    </form>
  </div>

  <!-- JavaScript -->
  <script>
    function calculateFee() {
      const quantity = parseInt(document.getElementById("quantity").value) || 0;
      const paperType = document.getElementById("paperType").value;
      const color = document.querySelector('input[name="color"]:checked').value;
      const side = document.querySelector('input[name="side"]:checked').value;
      const binding = document.getElementById("binding").value;
      const paperSize = document.getElementById("paperSize").value;

      let basePrice = 0.10; // RM0.10 per page

      // Paper type cost
      if (paperType === "Glossy") basePrice += 0.10;
      else if (paperType === "Card") basePrice += 0.15;

      // Color cost
      if (color === "Color") basePrice += 0.30;

      // Adjust for double-sided
      let effectivePages = quantity;
      if (side === "Double-sided") effectivePages = Math.ceil(quantity / 2);

      // Paper size surcharge
      if (paperSize === "A3") basePrice += 0.10;

      // Binding fee
      let bindingFee = 0;
      if (binding === "Stapled") bindingFee = 1.00;
      else if (binding === "Ring-bound") bindingFee = 3.00;

      // Total fee
      const total = (effectivePages * basePrice) + bindingFee;

      // Update result
      document.getElementById("feeResult").innerText = "RM " + total.toFixed(2);
    }

    // Attach event listeners to inputs
    document.querySelectorAll("#quantity, #paperType, #paperSize, input[name='color'], input[name='side'], #binding").forEach(el => {
      el.addEventListener("change", calculateFee);
    });

    // Prevent default form submit
    document.getElementById("orderForm").addEventListener("submit", function(e) {
      e.preventDefault();
      alert("Order submitted!");
    });
  </script>

</body>
</html>
